function q2w3_sidebar(e){function o(){}function i(o){var i,t=o.offset_top-o.fixed_margin_top,n=r-e.margin_bottom;i=e.width_inherit?"inherit":o.obj.css("width");var d=!1,c=!1,g=!1;jQuery(window).on("scroll."+e.sidebar,function(e){var r=jQuery(this).scrollTop();r+o.fixed_margin_bottom>=n?(c||(o.obj.css("position","fixed"),o.obj.css("top",""),o.obj.css("width",i),jQuery("#"+o.clone_id).length<=0&&o.obj.before(o.clone),c=!0,d=!1,g=!1),o.obj.css("bottom",r+s+o.next_widgets_height-n)):r>=t?d||(o.obj.css("position","fixed"),o.obj.css("top",o.fixed_margin_top),o.obj.css("bottom",""),o.obj.css("width",i),jQuery("#"+o.clone_id).length<=0&&o.obj.before(o.clone),d=!0,c=!1,g=!1):g||(o.obj.css("position",""),o.obj.css("top",""),o.obj.css("width",""),jQuery("#"+o.clone_id).length>0&&jQuery("#"+o.clone_id).remove(),g=!0,d=!1,c=!1)}).trigger("scroll."+e.sidebar),jQuery(window).on("resize",function(){jQuery(window).width()<=e.screen_max_width&&(jQuery(window).off("load scroll."+e.sidebar),o.obj.css("position",""),o.obj.css("top",""),o.obj.css("width",""),o.obj.css("margin",""),o.obj.css("padding",""),jQuery("#"+o.clone_id).length>0&&jQuery("#"+o.clone_id).remove(),g=!0,d=!1,c=!1)}).trigger("resize")}if(!e.widgets)return!1;if(e.widgets.length<1)return!1;e.sidebar||(e.sidebar="q2w3-default-sidebar");var t=new Array,s=jQuery(window).height(),r=jQuery(document).height(),n=e.margin_top;jQuery(".q2w3-widget-clone-"+e.sidebar).remove();for(var d=0;d<e.widgets.length;d++)widget_obj=jQuery("#"+e.widgets[d]),widget_obj.css("position",""),widget_obj.attr("id")?(t[d]=new o,t[d].obj=widget_obj,t[d].clone=widget_obj.clone(),t[d].clone.children().remove(),t[d].clone_id=widget_obj.attr("id")+"_clone",t[d].clone.addClass("q2w3-widget-clone-"+e.sidebar),t[d].clone.attr("id",t[d].clone_id),t[d].clone.css("height",widget_obj.height()),t[d].clone.css("visibility","hidden"),t[d].offset_top=widget_obj.offset().top,t[d].fixed_margin_top=n,t[d].height=widget_obj.outerHeight(!0),t[d].fixed_margin_bottom=n+t[d].height,n+=t[d].height):t[d]=!1;for(var c,g=0,d=t.length-1;d>=0;d--)t[d]&&(t[d].next_widgets_height=g,t[d].fixed_margin_bottom+=g,g+=t[d].height,c||(c=widget_obj.parent(),c.css("height",""),c.height(c.height())));jQuery(window).off("load scroll."+e.sidebar);for(var d=0;d<t.length;d++)t[d]&&i(t[d])}